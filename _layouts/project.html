<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>{% if page.title %}{{ page.title }} - {{ site.title }}{% else %}{{ site.title }}{% endif %}</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="{{ page.description | default: site.description }}">
    <meta name="author" content="{{ site.name }}">
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="{{ "/css/main.css" | prepend: site.baseurl }}">
    
    <!-- Favicons -->
    <link rel="apple-touch-icon" sizes="144x144" href="{{ "/images/favicons/apple-touch-icon-144x144.png" | prepend: site.baseurl }}">
    <link rel="apple-touch-icon" sizes="114x114" href="{{ "/images/favicons/apple-touch-icon-114x114.png" | prepend: site.baseurl }}">
    <link rel="apple-touch-icon" sizes="72x72" href="{{ "/images/favicons/apple-touch-icon-72x72.png" | prepend: site.baseurl }}">
    <link rel="apple-touch-icon" href="{{ "/images/favicons/apple-touch-icon.png" | prepend: site.baseurl }}">
    <link rel="shortcut icon" href="{{ "/images/favicons/favicon.ico" | prepend: site.baseurl }}">

    <!-- MathJax for LaTeX equations -->
    <script type="text/javascript" async
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML">
    </script>
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [['$','$'], ['\\(','\\)']],
          displayMath: [['$$','$$'], ['\\[','\\]']],
          processEscapes: true,
          processEnvironments: true
        },
        TeX: {
          equationNumbers: { autoNumber: "AMS" },
          extensions: ["AMSmath.js", "AMSsymbols.js"]
        }
      });
    </script>
</head>
<body>
    <!-- Simple Navigation -->
    <nav class="project-nav">
        <div class="project-nav-container">
            <a href="{{ "/" | prepend: site.baseurl }}" class="back-home">← {{ site.name }}</a>
            <a href="{{ "/" | prepend: site.baseurl }}#projects" class="back-projects">← Back to Projects</a>
        </div>
    </nav>

    <!-- Project Content -->
    <main class="project-main">
        <article class="project-article">
            <header class="project-header">
                <div class="project-meta-info">
                    <span class="project-category">{{ page.category }}</span>
                    <span class="project-institution">{{ page.institution }}</span>
                    <span class="project-date">{{ page.timeline }}</span>
                </div>
                {% if page.date %}
                <div class="project-date-info">
                    <span class="project-date">{{ page.published_date }}</span>
                </div>
                {% endif %}
                <h1 class="project-main-title">{{ page.title }}</h1>
                {% if page.supervisor %}
                <p class="project-supervisor"><strong>Supervisor:</strong> {{ page.supervisor }}</p>
                {% endif %}
                {% if page.collaborators %}
                <p class="project-collaborators"><strong>Collaborators:</strong> {{ page.collaborators }}</p>
                {% endif %}
            </header>

            <div class="project-content">
                {{ content }}
            </div>

            {% if page.technologies %}
            <section class="project-technologies">
                <h3>Technologies & Methods</h3>
                <div class="tech-tags">
                    {% for tech in page.technologies %}
                    <span class="tech-tag">{{ tech }}</span>
                    {% endfor %}
                </div>
            </section>
            {% endif %}

            {% if page.links %}
            <section class="project-links-section">
                <h3>Resources</h3>
                <div class="project-external-links">
                    {% for link in page.links %}
                    <a href="{{ link.url }}" class="external-link" target="_blank" rel="noopener">
                        {{ link.title }} →
                    </a>
                    {% endfor %}
                </div>
            </section>
            {% endif %}

            {% if page.related_posts %}
            <section class="related-projects">
                <h3>Related Work</h3>
                <div class="related-links">
                    {% for post in page.related_posts %}
                    <a href="{{ post | prepend: site.baseurl }}" class="related-link">{{ post }}</a>
                    {% endfor %}
                </div>
            </section>
            {% endif %}
        </article>
    </main>

    <!-- Footer -->
    <footer class="project-footer">
        <p>&copy; {{ site.time | date: '%Y' }} {{ site.author.name }}. All rights reserved.</p>
    </footer>

    <!-- Smooth scrolling script -->
    <script>
        // Smooth scrolling for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth'
                    });
                }
            });
        });
    </script>
</body>
</html>


